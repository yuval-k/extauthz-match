<!DOCTYPE html>
<html>
<head>
    <title>Protected Backend Service</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="emoji">ğŸ‰</div>
            <h1>Hello from Backend!</h1>
        </div>

        <div class="subtitle">Protected Backend Service</div>

        <div class="content">
            <div class="section">
                <h2>
                    <span>ğŸ” Authorization Status</span>
                    <span class="badge">APPROVED</span>
                </h2>
                <p>Your request successfully passed through the ExtAuth Match system!</p>
                <div class="status">
                    <div class="status-item">
                        <span class="checkmark">âœ“</span>
                        Request authenticated
                    </div>
                    <div class="status-item">
                        <span class="checkmark">âœ“</span>
                        User swiped right ğŸ‘‰
                    </div>
                    <div class="status-item">
                        <span class="checkmark">âœ“</span>
                        Access granted
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ“Š Request Details</h2>
                <p>This is a protected backend service running behind an Envoy proxy with external authorization enabled.</p>
            </div>

            <div class="section">
                <h2>ğŸ¨ Demo Resources</h2>
                <p>The following resources are being served through the authorized connection:</p>
                <div class="images">
                    <div class="image-card">ğŸ–¼ï¸</div>
                    <div class="image-card">ğŸ¬</div>
                    <div class="image-card">ğŸµ</div>
                    <div class="image-card">ğŸ“„</div>
                    <div class="image-card">ğŸ“Š</div>
                    <div class="image-card">âš™ï¸</div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸš€ How It Works</h2>
                <ol style="color: #6b7280; font-size: 14px; line-height: 1.8;">
                    <li>Client sends request to Envoy proxy (port 10000)</li>
                    <li>Envoy calls ext_authz gRPC service for authorization</li>
                    <li>Auth service broadcasts request to WebSocket clients</li>
                    <li>User swipes right âœ“ to approve or left âœ— to deny</li>
                    <li>Request completes (200 OK) or returns 403 Forbidden</li>
                </ol>
            </div>

            <div class="footer">
                âœ¨ This is a demo/proof-of-concept implementation of Envoy's external authorization filter
            </div>
        </div>
    </div>

    <script src="/script.js"></script>
</body>
</html>

