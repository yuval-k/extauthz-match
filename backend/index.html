<!DOCTYPE html>
<html>
<head>
    <title>It's a Match! ğŸ’•</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="emoji">ğŸ’•</div>
            <h1>It's a Match!</h1>
        </div>

        <div class="subtitle">Watch the magic happen! âœ¨</div>

        <div class="content">
            <div class="section">
                <h2>
                    <span>ğŸ“± Connect Your Phone</span>
                    <span class="badge">SCAN ME</span>
                </h2>
                <p>Scan this QR code or tap the link to open the swipe interface on your phone:</p>
                <div id="qrSection" class="qr-section">
                    <div id="qrCode" class="qr-code"></div>
                    <a id="browserLink" href="#" target="_blank" class="browser-link">Open on this device</a>
                </div>
            </div>

            <div class="section">
                <h2>
                    <span>ğŸ“± Try It Out</span>
                    <span class="badge">INTERACTIVE</span>
                </h2>
                <p>This page will automatically make 5 protected requests below. Each one needs your approval!</p>
                <div class="status">
                    <div class="status-item">
                        <span class="checkmark">ğŸ‘€</span>
                        Check your phone for incoming requests
                    </div>
                    <div class="status-item">
                        <span class="checkmark">ğŸ‘†</span>
                        Swipe right â¤ï¸ to approve or left âŒ to deny
                    </div>
                    <div class="status-item">
                        <span class="checkmark">ğŸ¯</span>
                        Watch them update in real-time below!
                    </div>
                    <div class="status-item">
                        <span class="checkmark">ğŸ”„</span>
                        <em>Not seeing requests? <button id="tryAgainBtn" class="try-again-btn">Try Again</button></em>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ’ Request History</h2>
                <p>Watch as your requests get matched in real-time:</p>
                <div id="matchHistory" class="match-history">
                    <div class="match-item pending">
                        <span class="match-label">ğŸ’Œ /api/love-letter.json</span>
                        <span class="match-result" data-index="0">â³</span>
                    </div>
                    <div class="match-item pending">
                        <span class="match-label">ğŸ’– /api/heart.json</span>
                        <span class="match-result" data-index="1">â³</span>
                    </div>
                    <div class="match-item pending">
                        <span class="match-label">ğŸ’… /css/valentine.css</span>
                        <span class="match-result" data-index="2">â³</span>
                    </div>
                    <div class="match-item pending">
                        <span class="match-label">ğŸ’˜ /js/cupid.js</span>
                        <span class="match-result" data-index="3">â³</span>
                    </div>
                    <div class="match-item pending">
                        <span class="match-label">ğŸŒ¹ /img/rose.png</span>
                        <span class="match-result" data-index="4">â³</span>
                    </div>
                </div>
                <div id="matchScore" class="match-score">
                    <span class="score-hearts">â¤ï¸ <span id="heartCount">0</span></span>
                    <span class="score-separator">vs</span>
                    <span class="score-x">âŒ <span id="xCount">0</span></span>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ’˜ How It Works</h2>
                <ol style="color: #6b7280; font-size: 14px; line-height: 1.8;">
                    <li>Client sends request to the gateway</li>
                    <li>Gateway asks: "Does someone like this request?"</li>
                    <li>Auth service sends the request profile to the mobile app</li>
                    <li>User swipes right â¤ï¸ to match or left âŒ to pass</li>
                    <li>If matched: Request succeeds (200 OK) ğŸ’•</li>
                    <li>If passed: Request denied (403) ğŸ’”</li>
                </ol>
            </div>

            <div class="footer">
                ğŸ’ ExtAuth Match: Where authorization meets romance
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="/script.js"></script>
</body>
</html>

